(latest problem) with MAKE_JOBS_SAFE= no


Making all in tests
libtool: link: gcc -Wall -g -O2 -fPIC -fdata-sections -ffunction-sections -Wl,--gc-sections -o rigctl rigctl-rigctl.o rigctl-rigctl_parse.o rigctl-dumpcaps.o rigctl-sprintflst.o  -ledit ../src/.libs/libhamlib.a -lm ../lib/.libs/libmisc.a -pthread
ld: ../src/.libs/libhamlib.a(usb_port.o): in function `find_and_open_device':
/tmp/WRKOBJDIR/wip/wsjt/work/wsjtx-2.3.0/hamlib-prefix/src/hamlib/src/usb_port.c:83: undefined reference to `libusb_get_device_list'
ld: /tmp/WRKOBJDIR/wip/wsjt/work/wsjtx-2.3.0/hamlib-prefix/src/hamlib/src/usb_port.c:98: undefined reference to `libusb_get_device_descriptor'
ld: /tmp/WRKOBJDIR/wip/wsjt/work/wsjtx-2.3.0/hamlib-prefix/src/hamlib/src/usb_port.c:110: undefined reference to `libusb_open'


---- WATCH config.log ---

configure:19279: result: yes
configure:19289: checking whether to build USB dependent backends
configure:19301: result: yes
configure:19310: checking for libusb_init in -lusb-1.0
configure:19335: gcc -o conftest -g -O2 -fPIC -fdata-sections -ffunction-sections  -I/usr/pkg/include -I/usr/include -I/usr/pkg/qt5/include -I/usr/pkg/include/glib-2.0 -I/usr/pkg/include/gio-unix-2.0 -I/usr/pkg/lib/glib-2.0/include -I/usr/pkg/include/harfbuzz -I/usr/X11R7/include/freetype2 -I/usr/X11R7/include -I/usr/X11R7/include/libdrm -Wl,--gc-sections conftest.c -lusb-1.0   >&5
ld: cannot find -lusb-1.0
configure:19335: $? = 1
configure: failed program was:

'configure' line where the problem exists
  19304 LIBUSB=""
  19305
  19306
  19307
  19308 if test x"${cf_with_libusb}" = "xyes"; then :
  19309   if test -z $LIBUSB_LIBS; then :
  19310   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for libusb_init in -lusb-1.0" >&5
  19311 $as_echo_n "checking for libusb_init in -lusb-1.0... " >&6; }
  19312 if ${ac_cv_lib_usb_1_0_libusb_init+:} false; then :
  19313   $as_echo_n "(cached) " >&6
  19314 else
  19315   ac_check_lib_save_LIBS=$LIBS

from configure.ac:
    318 dnl Check for libusb, treat LIBUSB_LIBS and LIBUSB_CFLAGS as precious variables
    319 AC_MSG_CHECKING([whether to build USB dependent backends])
    320 AC_ARG_WITH([libusb],
    321     [AS_HELP_STRING([--without-libusb],
    322         [disable USB dependent backends @<:@default=yes@:>@])],
    323         [cf_with_libusb=no],
    324         [cf_with_libusb=yes]  
    325     )
    326 
    327 AC_MSG_RESULT([$cf_with_libusb])
    328
    329 LIBUSB=""
    330 AC_ARG_VAR([LIBUSB_CFLAGS], [C compiler flags for libusb, overriding configure defaults])
    331 AC_ARG_VAR([LIBUSB_LIBS], [linker flags for libusb, overriding configure check (useful for specifying static libusb-1.0.a (see INSTALL))])
    332
    333 AS_IF([test x"${cf_with_libusb}" = "xyes"],


